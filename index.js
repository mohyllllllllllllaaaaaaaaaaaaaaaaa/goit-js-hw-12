import{a as v,i as a,S as H}from"./assets/vendor-itfKyfJC.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(e){if(e.ep)return;e.ep=!0;const r=n(e);fetch(e.href,r)}})();const P="https://pixabay.com/api/",$="48823979-822a726f00604f1f8a353c21f";async function f(t,o){const n={key:$,q:t,image_type:"photo",orientation:"horizontal",safesearch:!0,mode:"cors",per_page:40,page:o};try{const s=await v.get(P,{params:n}),e=s.data.hits,r=s.data.totalHits;return{images:e,totalHits:r}}catch(s){return a.error({message:"Sorry. Please try again!"}),console.error("Fetch error:",s),{images:[],totalHits:0}}}const E=document.querySelector(".gallery");function p(t){const o=t.map(({webformatURL:s,largeImageURL:e,tags:r,likes:i,views:b,comments:S,downloads:q})=>`<a href="${e}" class="gallery-item">
            <img src="${s}" alt="${r}" class="gallery-image" />
            <div class="info">
                <p><strong>Likes:</strong> ${i}</p>
                <p><strong>Views:</strong> ${b}</p>
                <p><strong>Comments:</strong> ${S}</p>
                <p><strong>Downloads:</strong> ${q}</p>
            </div> 
        </a>`).join("");E.insertAdjacentHTML("beforeend",o),new H(".gallery a",{captionsData:"alt",captionDelay:250}).refresh()}const u=document.querySelector("#form"),m=document.querySelector(".loader"),g=document.querySelector(".load-more"),M=document.querySelector(".gallery");let c="",l=1,x=40,h=0;function O(){g.classList.remove("hidden")}function d(){g.classList.add("hidden")}function R(){a.info({position:"bottomCenter",message:"Sorry, you've reached the end of search results.",color:"red"})}function y(t){m.style.display="block",t.insertAdjacentElement("afterend",m)}function L(){m.style.display="none"}function T(){const t=document.querySelector(".gallery-item:last-child");if(t){const n=t.getBoundingClientRect().height;window.scrollBy({top:n*2,behavior:"smooth"})}}function w(){const t=Math.ceil(h/x);l>=t?(d(),R()):O()}u.addEventListener("submit",async t=>{if(t.preventDefault(),c=t.target.elements.text.value.trim(),l=1,M.innerHTML="",!c||/^\d+$/.test(c.trim())){a.error({message:"Please enter a search query!",position:"topRight",color:"yellow"});return}d(),y(u);try{const{images:o,totalHits:n}=await f(c,l);if(h=n,o.length===0){a.error({message:"No images found",position:"topRight",color:"red"});return}p(o),w()}catch{a.error({message:"There was an error fetching the images.",position:"topRight",color:"red"}),d()}finally{L(),u.reset()}});g.addEventListener("click",async()=>{l+=1,y(g);try{const{images:t}=await f(c,l);if(t.length===0){d();return}p(t),T(),w()}catch{a.error({message:"Error loading more images.",position:"topRight",color:"red"}),d()}finally{L()}});
//# sourceMappingURL=index.js.map
