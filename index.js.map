{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '48823979-822a726f00604f1f8a353c21f';\n\nexport async function fetchImages(searchQuery) {\n    const params = {\n        key: API_KEY,\n        q: searchQuery, \n        image_type: \"photo\", \n        orientation: \"horizontal\",\n        safesearch: true,\n         mode: 'cors',\n         per_page: 40,\n         page: 1\n    };\n    const loader = document.querySelector(\".loader\");\n    loader.style.display = \"block\";\n \n    const response = await axios.get(BASE_URL, {params})\n    try {\n        const images = response.data.hits;\n        \n        if (images.length === 0) {\n            iziToast.error({\n                position: 'topRight',\n                color: 'red',\n                title: 'Error',\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n            });\n        }\n        return images;\n    }\n    catch(error)  {\n        \n        iziToast.error({ message: 'Sorry. Please try again!'}); \n        console.error(\"Fetch error:\", error);\n        return [];\n    }finally{\n        loader.style.display = \"none\";\n    };\n\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector(\".gallery\");\nexport function renderImages(images) {\n    gallery.innerHTML = '';\n\n    const markup = images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => \n        `<a href=\"${largeImageURL}\" class=\"gallery-item\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery-image\" />\n            <div class=\"info\">\n                <p><strong>Likes:</strong> ${likes}</p>\n                <p><strong>Views:</strong> ${views}</p>\n                <p><strong>Comments:</strong> ${comments}</p>\n                <p><strong>Downloads:</strong> ${downloads}</p>\n            </div> \n        </a>`\n    ).join(\"\");\n\n    gallery.innerHTML = markup;\n    const lightbox = new SimpleLightbox(\".gallery a\", {\n        captionsData: \"alt\",\n        captionDelay: 250,\n    }).refresh();\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { fetchImages } from \"./js/pixabay-api\";\nimport { renderImages } from \"./js/render-functions\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst form = document.querySelector(\"#form\");\nconst loader = document.querySelector(\".loader\");\nconst text = e.target.elements.text.value.trim();\nform.addEventListener(\"submit\", async (event) => {\n    event.preventDefault();\n    if (!text || /^\\d+$/.test(text)) {\n        iziToast.error({ message: \"Please enter a search query!\",\n            position: \"topRight\",\n            color: 'yellow',\n         });\n        return;\n    }\n    loader.style.display = \"block\"; \n try{ const images = await fetchImages(text);\n                renderImages(images);\n            }\n    \n        catch(error){\n            iziToast.error({ message: \"There was an error fetching the images.\" });\n        }\n        finally{\n            loader.style.display = \"none\"; \n            form.reset();\n        };      \n});"],"names":["BASE_URL","API_KEY","fetchImages","searchQuery","params","loader","response","axios","images","iziToast","error","gallery","renderImages","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","form","text","event"],"mappings":"owBAMA,MAAMA,EAAW,2BACXC,EAAU,qCAET,eAAeC,EAAYC,EAAa,CAC3C,MAAMC,EAAS,CACX,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACX,KAAM,OACN,SAAU,GACV,KAAM,CACV,EACKE,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,QAEvB,MAAMC,EAAW,MAAMC,EAAM,IAAIP,EAAU,CAAC,OAAAI,CAAM,CAAC,EACnD,GAAI,CACA,MAAMI,EAASF,EAAS,KAAK,KAE7B,OAAIE,EAAO,SAAW,GAClBC,EAAS,MAAM,CACX,SAAU,WACV,MAAO,MACP,MAAO,QACP,QAAS,0EACzB,CAAa,EAEED,CACf,OACUE,EAAQ,CAEV,OAAAD,EAAS,MAAM,CAAE,QAAS,0BAA0B,CAAC,EACrD,QAAQ,MAAM,eAAgBC,CAAK,EAC5B,CAAE,CACjB,QAAK,CACGL,EAAO,MAAM,QAAU,MAC/B,CAEA,CC3CA,MAAMM,EAAU,SAAS,cAAc,UAAU,EAC1C,SAASC,EAAaJ,EAAQ,CACjCG,EAAQ,UAAY,GAEpB,MAAME,EAASL,EAAO,IAAI,CAAC,CAAE,aAAAM,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAC/F,YAAYL,CAAa;AAAA,wBACTD,CAAY,UAAUE,CAAI;AAAA;AAAA,6CAELC,CAAK;AAAA,6CACLC,CAAK;AAAA,gDACFC,CAAQ;AAAA,iDACPC,CAAS;AAAA;AAAA,aAG1D,EAAM,KAAK,EAAE,EAETT,EAAQ,UAAYE,EACH,IAAIQ,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GACjB,CAAA,EAAE,QAAO,CACd,CCjBA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCjB,EAAS,SAAS,cAAc,SAAS,EACzCkB,EAAO,EAAE,OAAO,SAAS,KAAK,MAAM,KAAM,EAChDD,EAAK,iBAAiB,SAAU,MAAOE,GAAU,CAE7C,GADAA,EAAM,eAAgB,EAClB,CAACD,GAAQ,QAAQ,KAAKA,CAAI,EAAG,CAC7Bd,EAAS,MAAM,CAAE,QAAS,+BACtB,SAAU,WACV,MAAO,QACnB,CAAU,EACF,MACR,CACIJ,EAAO,MAAM,QAAU,QAC1B,GAAG,CAAE,MAAMG,EAAS,MAAMN,EAAYqB,CAAI,EAC3BX,EAAaJ,CAAM,CACnC,MAEoB,CACRC,EAAS,MAAM,CAAE,QAAS,yCAAyC,CAAE,CACjF,QACe,CACHJ,EAAO,MAAM,QAAU,OACvBiB,EAAK,MAAO,CACxB,CACA,CAAC"}